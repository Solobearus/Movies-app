(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){e.exports={App:"App_App__8BQt3",App_logo:"App_App_logo__FA8ex","App-logo-spin":"App_App-logo-spin__12IdZ",App_header:"App_App_header__1fCLs",App_link:"App_App_link__4DPhX"}},133:function(e,t,a){e.exports={Container:"Container_Container__2nkrZ"}},134:function(e,t,a){e.exports={Item:"Item_Item__2XqEX"}},136:function(e,t,a){e.exports=a(355)},223:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),l=a(64),o=a(41),s=a(357),c=a(47),m=a(66),u="ADD_MOVIE",h="UPDATE_MOVIE",d="DELETE_MOVIE",p="SET_MOVIES";var b=function(e){fetch("https://www.omdbapi.com/?apikey=".concat("887c425e","&s=").concat("war","&page=").concat(1)).then(function(e){return e.json()}).then(function(t){var a=[];t.Search.map(function(e){return a.push(fetch("https://www.omdbapi.com/?i=".concat(e.imdbID,"&apikey=").concat("887c425e")))}),Promise.all(a).then(function(t){var a=t.map(function(e){return e.json()});Promise.all(a).then(function(t){e({type:p,payload:t})})})},function(e){alert(e)})},v={isLoaded:!1,items:[],open:!1};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=0,n=[];switch(t.type){case u:return(n=Object(m.a)(e.items)).push(t.payload),Object(c.a)({},e,{items:n});case h:return a=(n=Object(m.a)(e.items)).map(function(e){return e.imdbID}).indexOf(t.payload.imdbID),n[a]=t.payload,Object(c.a)({},e,{items:n});case d:return a=(n=Object(m.a)(e.items)).map(function(e){return e.imdbID}).indexOf(t.payload),n.splice(a,1),Object(c.a)({},e,{items:n});case p:return Object(c.a)({},e,{items:t.payload});default:return e}},E=a(127),g=a(128),C=a(129),O=a.n(C),y=Object(o.d)(Object(o.c)({form:s.a,moviesReducer:f}),{},Object(o.a)(O.a,E.a,g.a)),j=(a(223),a(20)),D=a(21),k=a(23),S=a(22),T=a(24),_=a(132),I=a.n(_),w=a(133),A=a.n(w),M=a(83),x=a.n(M),R=a(134),Y=a.n(R),G=a(17),P=a.n(G),W=a(135),q=a.n(W),L=a(39),V=a.n(L),F=a(40),N=a.n(F),U=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{id:"form-dialog-title"},"Delete ",e.movie.Title,"?"),r.a.createElement(N.a,null,r.a.createElement(P.a,{onClick:function(){e.handleClose()},color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:function(){e.click(e.movie.imdbID),e.handleClose()},color:"primary"},"Delete")))},B=a(38),X=a(18),J=a(62),Q=a.n(J),Z=a(16),z=a.n(Z),$=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).state={titles:y.getState().moviesReducer.items.map(function(e){return e.Title}),error:"",imdbID:a.props.movie.imdbID,Title:a.props.movie.Title,Year:a.props.movie.Year,Runtime:a.props.movie.Runtime,Genre:a.props.movie.Genre,Director:a.props.movie.Director},a.handleChange=a.handleChange.bind(Object(X.a)(Object(X.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(X.a)(Object(X.a)(a))),a}return Object(T.a)(t,e),Object(D.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){this.state.Title?this.state.Year<1900||this.state.Year>2019?this.setState({error:"Error : Year must be between 1900 and 2019"}):this.state.Runtime?this.state.Genre?this.state.Director?this.state.titles.includes(this.state.Title)?this.setState({error:"Error : ".concat(this.state.Title," already exists.")}):(this.props.click(this.state),this.props.handleClose()):this.setState({error:"Error : Director is not set"}):this.setState({error:"Error : Genre is not set"}):this.setState({error:"Error : Runtime is not set"}):this.setState({error:"Error : Title is not set"}),e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{id:"form-dialog-title"}," Editing ",this.props.movie.Title),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Q.a,null,r.a.createElement("p",{style:{color:"red"}},this.state.error),r.a.createElement(z.a,{disabled:!0,fullWidth:!0,name:"imdbID",id:"outlined-required",label:"imdbID",defaultValue:this.props.movie.imdbID,margin:"normal",variant:"outlined"}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Title",id:"outlined-required",label:"Title",defaultValue:this.props.movie.Title,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{fullWidth:!0,type:"number",name:"Year",id:"outlined-required",label:"Year",defaultValue:this.props.movie.Year,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Runtime",id:"outlined-required",label:"Runtime",defaultValue:this.props.movie.Runtime,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Genre",id:"outlined-required",label:"Genre",defaultValue:this.props.movie.Genre,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Director",id:"outlined-required",label:"Director",defaultValue:this.props.movie.Director,margin:"normal",variant:"outlined",onChange:this.handleChange})),r.a.createElement(N.a,null,r.a.createElement(P.a,{onClick:function(){e.props.handleClose()},color:"primary"},"Cancel"),r.a.createElement(P.a,{type:"submit",color:"primary"},"Update"))))}}]),t}(r.a.Component),H=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).state={titles:y.getState().moviesReducer.items.map(function(e){return e.Title}),error:"",imdbID:"",Title:"",Year:0,Runtime:"",Genre:"",Director:""},console.log(a.state.titles),a.handleChange=a.handleChange.bind(Object(X.a)(Object(X.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(X.a)(Object(X.a)(a))),a}return Object(T.a)(t,e),Object(D.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(B.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){this.state.imdbID?9!==this.state.imdbID.length?this.setState({error:"Error : imdbID must be 9 characters long"}):this.state.Title?this.state.Year<1900||this.state.Year>2019?this.setState({error:"Error : Year must be between 1900 and 2019"}):this.state.Runtime?this.state.Genre?this.state.Director?this.state.titles.includes(this.state.Title)?this.setState({error:"Error : ".concat(this.state.Title," already exists.")}):(this.props.click(this.state),this.props.handleClose()):this.setState({error:"Error : Director is not set"}):this.setState({error:"Error : Genre is not set"}):this.setState({error:"Error : Runtime is not set"}):this.setState({error:"Error : Title is not set"}):this.setState({error:"Error : imdbID is not set"}),e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{id:"form-dialog-title"}," Adding a new movie"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Q.a,null,r.a.createElement("p",{style:{color:"red"}},this.state.error),r.a.createElement(z.a,{fullWidth:!0,name:"imdbID",id:"outlined-required",label:"imdbID",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Title",id:"outlined-required",label:"Title",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{fullWidth:!0,type:"number",name:"Year",id:"outlined-required",label:"Year",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Runtime",id:"outlined-required",label:"Runtime",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Genre",id:"outlined-required",label:"Genre",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(z.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Director",id:"outlined-required",label:"Director",margin:"normal",variant:"outlined",onChange:this.handleChange})),r.a.createElement(N.a,null,r.a.createElement(P.a,{onClick:function(){e.props.handleClose()},color:"primary"},"Cancel"),r.a.createElement(P.a,{type:"submit",color:"primary"},"Create"))))}}]),t}(r.a.Component),K=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.model=null,a}return Object(T.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return"Delete"===this.props.value?this.model=r.a.createElement(U,{click:this.props.click,movie:this.props.movie,handleClose:this.handleClose}):"Edit"===this.props.value?this.model=r.a.createElement($,{click:this.props.click,movie:this.props.movie,handleClose:this.handleClose}):"Add"===this.props.value&&(this.model=r.a.createElement(H,{click:this.props.click,handleClose:this.handleClose})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen},this.props.value),r.a.createElement(q.a,{open:this.state.open,"aria-labelledby":"form-dialog-title"},this.model))}}]),t}(r.a.Component),ee=function(e){var t=null;return e.header||(t=r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{movie:e.movie,click:e.updateMovie,value:"Edit"}),r.a.createElement(K,{movie:e.movie,click:e.deleteMovie,value:"Delete"}))),r.a.createElement("div",{className:Y.a.Item},r.a.createElement("p",null,e.movie.imdbID),r.a.createElement("p",null,e.movie.Title.toLowerCase().match(/([a-z\s])+/g).join("").split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" ")),r.a.createElement("p",null,e.movie.Year),r.a.createElement("p",null,e.movie.Runtime),r.a.createElement("p",null,e.movie.Genre),r.a.createElement("p",null,e.movie.Director),t)},te=function(e){function t(){return Object(j.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.initMovies()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:x.a.Table,id:x.a.scroll},r.a.createElement(ee,{movie:{imdbID:"imdbID",Title:"Title",Year:"Year",Runtime:"Runtime",Genre:"Genre",Director:"Director"},header:!0}),(this.props.movies||[]).map(function(t){return r.a.createElement(ee,{movie:t,key:t.imdbID,updateMovie:e.props.updateMovie,deleteMovie:e.props.deleteMovie})}),r.a.createElement(K,{click:this.props.addMovie,value:"Add"}))}}]),t}(n.Component),ae=Object(l.b)(function(e){return{movies:e.moviesReducer.items}},function(e){return{addMovie:function(t){return e(function(e){return{type:u,payload:e}}(t))},updateMovie:function(t){return e(function(e){return{type:h,payload:e}}(t))},deleteMovie:function(t){return e(function(e){return{type:d,payload:e}}(t))},initMovies:function(){return e(function(e){b(e)})}}})(te),ne=function(e){return r.a.createElement("div",{className:A.a.Container},r.a.createElement("h1",null,"\u2605 \u2605 \u2605 ","Movies"," \u2605 \u2605 \u2605"),r.a.createElement(ae,null),r.a.createElement("p",null,"Application made by ",r.a.createElement("a",{href:"https://github.com/Solobearus"},"Ivan Solobear")," | Photo by Tyler Callahan on Unsplash"))},re=function(e){function t(){return Object(j.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:I.a.App},r.a.createElement(ne,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(63),le=Object(ie.createMuiTheme)({palette:{primary:{main:"#613C24"}},typography:{useNextVariants:!0}});Object(i.render)(r.a.createElement(l.a,{store:y},r.a.createElement(ie.MuiThemeProvider,{theme:le},r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,a){e.exports={Table:"Table_Table__QTi4Y"}}},[[136,1,2]]]);
//# sourceMappingURL=main.44cff250.chunk.js.map