(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports={App:"App_App__9xSCs",App_logo:"App_App_logo__1-4d6","App-logo-spin":"App_App-logo-spin__3dIz9",App_header:"App_App_header__1emiD",App_link:"App_App_link__-F7ol"}},134:function(e,t,a){e.exports={Container:"Container_Container__1nPka"}},135:function(e,t,a){e.exports={Table:"Table_Table__rZjLf"}},136:function(e,t,a){},137:function(e,t,a){e.exports={Item:"Item_Item__2w-3o"}},139:function(e,t,a){e.exports=a(362)},226:function(e,t,a){},227:function(e,t,a){},290:function(e,t,a){},295:function(e,t,a){e.exports={AddEditModel:"EditModel_AddEditModel__1v2vO"}},360:function(e,t,a){e.exports={AddModal:"AddModal_AddModal__2qXcY"}},362:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(47),l=a(66),o=void 0,s="ADD_MOVIE",c="UPDATE_MOVIE",u="DELETE_MOVIE",m="SET_MOVIES";var d=function(e){fetch("http://www.omdbapi.com/?apikey=".concat("887c425e","&s=").concat("war","&page=").concat(1)).then(function(e){return e.json()}).then(function(t){var a=[];t.Search.map(function(e){a.push(fetch("http://www.omdbapi.com/?i=".concat(e.imdbID,"&apikey=").concat("887c425e")))}),Promise.all(a).then(function(t){var a=[];console.log("values");var n=[];t.map(function(e){var t=e.body.getReader();n.push(t.read().then(function e(n){var r=n.done,i=n.value;if(!r){var l=new TextDecoder("utf-8").decode(i),o=JSON.parse(l);return a.push(o),t.read().then(e)}console.log("Stream complete")}))}),Promise.all(n).then(function(){e({type:m,payload:a})})})},function(e){o.setState({isLoaded:!0,error:e})})},h={isLoaded:!1,items:[],open:!1};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=0,n=[];switch(t.type){case s:return(n=Object(l.a)(e.items)).push(t.payload),Object(i.a)({},e,{items:n});case c:return a=(n=Object(l.a)(e.items)).map(function(e){return e.imdbID}).indexOf(t.payload.imdbID),n[a]=t.payload,Object(i.a)({},e,{items:n});case u:return a=(n=Object(l.a)(e.items)).map(function(e){return e.imdbID}).indexOf(t.payload),n.splice(a,1),Object(i.a)({},e,{items:n});case m:return Object(i.a)({},e,{items:t.payload});default:return e}},v=a(16),b=a(64),f=a(41),E=a(363),g=a(128),C=a(129),O=a(130),j=a.n(O),y=Object(f.d)(Object(f.c)({form:E.a,moviesReducer:p}),{},Object(f.a)(j.a,g.a,C.a)),D=(a(226),a(20)),_=a(21),k=a(24),S=a(22),T=a(23),I=a(133),A=a.n(I),w=a(134),M=a.n(w),x=a(135),R=a.n(x),Y=a(136),G=a.n(Y),P=function(e){return r.a.createElement("div",{className:G.a.TableHeader})},W=a(137),q=a.n(W),L=(a(227),a(17)),V=a.n(L),N=a(138),F=a.n(N),J=(a(290),a(39)),U=a.n(J),z=a(40),B=a.n(z),H=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{id:"form-dialog-title"},"Delete ",e.movie.Title,"?"),r.a.createElement(B.a,null,r.a.createElement(V.a,{onClick:function(){e.handleClose()},color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:function(){e.click(e.movie.imdbID),e.handleClose()},color:"primary"},"Delete")))},X=a(38),Z=a(18),$=(a(295),a(46)),K=a.n($),Q=a(15),ee=a.n(Q),te=function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).state={titles:y.getState().moviesReducer.items.map(function(e){return e.Title}),error:"",imdbID:a.props.movie.imdbID,Title:a.props.movie.Title,Year:a.props.movie.Year,Runtime:a.props.movie.Runtime,Genre:a.props.movie.Genre,Director:a.props.movie.Director},a.handleChange=a.handleChange.bind(Object(Z.a)(Object(Z.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(X.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){this.state.Title?this.state.Year<1900||this.state.Year>2019?this.setState({error:"Error : Year must be between 1900 and 2019"}):this.state.Runtime?this.state.Genre?this.state.Director?this.state.titles.includes(this.state.Title)?this.setState({error:"Error : ".concat(this.state.Title," already exists.")}):(this.props.click(this.state),this.props.handleClose()):this.setState({error:"Error : Director is not set"}):this.setState({error:"Error : Genre is not set"}):this.setState({error:"Error : Runtime is not set"}):this.setState({error:"Error : Title is not set"}),e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{id:"form-dialog-title"}," Editing ",this.props.movie.Title),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(K.a,null,r.a.createElement("p",{style:{color:"red"}},this.state.error),r.a.createElement(ee.a,{disabled:!0,fullWidth:!0,name:"imdbID",id:"outlined-required",label:"imdbID",defaultValue:this.props.movie.imdbID,margin:"normal",variant:"outlined"}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Title",id:"outlined-required",label:"Title",defaultValue:this.props.movie.Title,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{fullWidth:!0,type:"number",name:"Year",id:"outlined-required",label:"Year",defaultValue:this.props.movie.Year,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Runtime",id:"outlined-required",label:"Runtime",defaultValue:this.props.movie.Runtime,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Genre",id:"outlined-required",label:"Genre",defaultValue:this.props.movie.Genre,margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Director",id:"outlined-required",label:"Director",defaultValue:this.props.movie.Director,margin:"normal",variant:"outlined",onChange:this.handleChange})),r.a.createElement(B.a,null,r.a.createElement(V.a,{onClick:function(){e.props.handleClose()},color:"primary"},"Cancel"),r.a.createElement(V.a,{type:"submit",color:"primary"},"Update"))))}}]),t}(r.a.Component),ae=(a(360),function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).state={titles:y.getState().moviesReducer.items.map(function(e){return e.Title}),error:"",imdbID:"",Title:"",Year:0,Runtime:"",Genre:"",Director:""},console.log(a.state.titles),a.handleChange=a.handleChange.bind(Object(Z.a)(Object(Z.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(X.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){this.state.imdbID?9!=this.state.imdbID.length?this.setState({error:"Error : imdbID must be 9 characters long"}):this.state.Title?this.state.Year<1900||this.state.Year>2019?this.setState({error:"Error : Year must be between 1900 and 2019"}):this.state.Runtime?this.state.Genre?this.state.Director?this.state.titles.includes(this.state.Title)?this.setState({error:"Error : ".concat(this.state.Title," already exists.")}):(this.props.click(this.state),this.props.handleClose()):this.setState({error:"Error : Director is not set"}):this.setState({error:"Error : Genre is not set"}):this.setState({error:"Error : Runtime is not set"}):this.setState({error:"Error : Title is not set"}):this.setState({error:"Error : imdbID is not set"}),e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{id:"form-dialog-title"}," Adding a new movie"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(K.a,null,r.a.createElement("p",{style:{color:"red"}},this.state.error),r.a.createElement(ee.a,{fullWidth:!0,name:"imdbID",id:"outlined-required",label:"imdbID",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Title",id:"outlined-required",label:"Title",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{fullWidth:!0,type:"number",name:"Year",id:"outlined-required",label:"Year",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Runtime",id:"outlined-required",label:"Runtime",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Genre",id:"outlined-required",label:"Genre",margin:"normal",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ee.a,{inputProps:{maxLength:50},fullWidth:!0,name:"Director",id:"outlined-required",label:"Director",margin:"normal",variant:"outlined",onChange:this.handleChange})),r.a.createElement(B.a,null,r.a.createElement(V.a,{onClick:function(){e.props.handleClose()},color:"primary"},"Cancel"),r.a.createElement(V.a,{type:"submit",color:"primary"},"Create"))))}}]),t}(r.a.Component)),ne=function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.model=null,a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return"Delete"==this.props.value?this.model=r.a.createElement(H,{click:this.props.click,movie:this.props.movie,handleClose:this.handleClose}):"Edit"==this.props.value?this.model=r.a.createElement(te,{click:this.props.click,movie:this.props.movie,handleClose:this.handleClose}):"Add"==this.props.value&&(this.model=r.a.createElement(ae,{click:this.props.click,handleClose:this.handleClose})),r.a.createElement("div",null,r.a.createElement(V.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen},this.props.value),r.a.createElement(F.a,{open:this.state.open,"aria-labelledby":"form-dialog-title"},this.model))}}]),t}(r.a.Component),re=function(e){var t=null;return e.header||(t=r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{movie:e.movie,click:e.updateMovie,value:"Edit"}),r.a.createElement(ne,{movie:e.movie,click:e.deleteMovie,value:"Delete"}))),r.a.createElement("div",{className:q.a.Item},r.a.createElement("p",null,e.movie.imdbID),r.a.createElement("p",null,e.movie.Title.toLowerCase().match(/([a-z\s])+/g).join("")),r.a.createElement("p",null,e.movie.Year),r.a.createElement("p",null,e.movie.Runtime),r.a.createElement("p",null,e.movie.Genre),r.a.createElement("p",null,e.movie.Director),t)},ie=function(e){function t(){return Object(D.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.initMovies()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:R.a.Table},r.a.createElement(P,null),r.a.createElement(re,{movie:{imdbID:"imdbID",Title:"Title",Year:"Year",Runtime:"Runtime",Genre:"Genre",Director:"Director"},header:!0}),(this.props.movies||[]).map(function(t){return r.a.createElement(re,{movie:t,updateMovie:e.props.updateMovie,deleteMovie:e.props.deleteMovie})}),r.a.createElement(ne,{click:this.props.addMovie,value:"Add"}))}}]),t}(n.Component),le=Object(b.b)(function(e){return{movies:e.moviesReducer.items}},function(e){return{addMovie:function(t){return e(function(e){return{type:s,payload:e}}(t))},updateMovie:function(t){return e(function(e){return{type:c,payload:e}}(t))},deleteMovie:function(t){return e(function(e){return{type:u,payload:e}}(t))},initMovies:function(){return e(function(e){d(e)})}}})(ie),oe=function(e){return r.a.createElement("div",{className:M.a.Container},r.a.createElement("h1",null,"\u2605 \u2605 \u2605 ","Movies"," \u2605 \u2605 \u2605"),r.a.createElement("br",null),r.a.createElement(le,null),r.a.createElement("br",null),"Application made by Ivan Solobear | Photo by Tyler Callahan on Unsplash")},se=function(e){function t(){return Object(D.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:A.a.App},r.a.createElement(oe,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=a(63),ue=Object(ce.createMuiTheme)({palette:{primary:{main:"#613C24"}}});Object(v.render)(r.a.createElement(b.a,{store:y},r.a.createElement(ce.MuiThemeProvider,{theme:ue},r.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[139,1,2]]]);
//# sourceMappingURL=main.252e4b2d.chunk.js.map